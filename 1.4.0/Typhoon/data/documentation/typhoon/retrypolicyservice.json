{"variants":[{"paths":["\/documentation\/typhoon\/retrypolicyservice"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"symbol","identifier":{"url":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyService","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/typhoon.Typhoon\/documentation\/Typhoon"]]},"schemaVersion":{"minor":3,"patch":0,"major":0},"abstract":[{"code":"RetryPolicyService","type":"codeVoice"},{"text":" provides a high-level API for retrying asynchronous","type":"text"},{"text":" ","type":"text"},{"text":"operations using configurable retry strategies.","type":"text"}],"topicSections":[{"title":"Initializers","generated":true,"identifiers":["doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyService\/init(strategy:)"],"anchor":"Initializers"},{"title":"Default Implementations","generated":true,"identifiers":["doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyService\/IRetryPolicyService-Implementations"],"anchor":"Default-Implementations"}],"relationshipsSections":[{"title":"Conforms To","kind":"relationships","identifiers":["doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/IRetryPolicyService","doc:\/\/typhoon.Typhoon\/s8CopyableP","doc:\/\/typhoon.Typhoon\/s8SendableP","doc:\/\/typhoon.Typhoon\/s16SendableMetatypeP"],"type":"conformsTo"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"kind":"keyword","text":"final"},{"kind":"text","text":" "},{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"RetryPolicyService"}],"languages":["swift"]}]},{"content":[{"level":2,"anchor":"overview","type":"heading","text":"Overview"},{"inlineContent":[{"type":"text","text":"The service encapsulates retry logic such as:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"limiting the number of retry attempts,","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"applying delays between retries (e.g. fixed, exponential, or custom),","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"reacting to errors on each failed attempt.","type":"text"}]}]}],"type":"unorderedList"},{"inlineContent":[{"text":"This class is typically used for retrying unstable operations like","type":"text"},{"text":" ","type":"text"},{"text":"network requests, database calls, or interactions with external services.","type":"text"}],"type":"paragraph"},{"level":3,"anchor":"Example","type":"heading","text":"Example"},{"syntax":"swift","type":"codeListing","code":["let strategy = RetryPolicyStrategy.exponential(","    maxAttempts: 3,","    initialDelay: .milliseconds(500)",")","","let retryService = RetryPolicyService(strategy: strategy)","","let data = try await retryService.retry(","    strategy: nil,","    onFailure: { error in","        print(\"Request failed with error: \\(error)\")","","        \/\/ Return `true` to continue retrying,","        \/\/ or `false` to stop and rethrow the error.","        return true","    }",") {","    try await apiClient.fetchData()","}"]},{"inlineContent":[{"type":"text","text":"In this example:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"The request will be retried up to 3 times.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"The delay between retries grows exponentially.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Each failure is logged before the next attempt."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"If all retries are exhausted, "},{"type":"codeVoice","code":"RetryPolicyError.retryLimitExceeded"},{"type":"text","text":" is thrown."}],"type":"paragraph"}]}],"type":"unorderedList"},{"style":"note","name":"Note","content":[{"inlineContent":[{"type":"text","text":"You can override the default strategy per call by passing a custom"},{"type":"text","text":" "},{"type":"codeVoice","code":"RetryPolicyStrategy"},{"type":"text","text":" into the "},{"type":"codeVoice","code":"retry"},{"type":"text","text":" method."}],"type":"paragraph"}],"type":"aside"}],"kind":"content"}],"seeAlsoSections":[{"title":"Essentials","generated":true,"identifiers":["doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyStrategy"],"anchor":"Essentials"}],"sections":[],"metadata":{"modules":[{"name":"Typhoon"}],"roleHeading":"Class","symbolKind":"class","externalID":"s:7Typhoon18RetryPolicyServiceC","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RetryPolicyService","kind":"identifier"}],"navigatorTitle":[{"text":"RetryPolicyService","kind":"identifier"}],"title":"RetryPolicyService","platforms":[{"introducedAt":"13.0","unavailable":false,"deprecated":false,"name":"iOS","beta":false},{"introducedAt":"13.0","unavailable":false,"deprecated":false,"name":"iPadOS","beta":false},{"introducedAt":"13.0","unavailable":false,"deprecated":false,"name":"Mac Catalyst","beta":false},{"introducedAt":"10.15","unavailable":false,"deprecated":false,"name":"macOS","beta":false},{"introducedAt":"13.0","unavailable":false,"deprecated":false,"name":"tvOS","beta":false},{"introducedAt":"1.0","unavailable":false,"deprecated":false,"name":"visionOS","beta":false},{"introducedAt":"6.0","unavailable":false,"deprecated":false,"name":"watchOS","beta":false}],"role":"symbol"},"references":{"doc://typhoon.Typhoon/s8CopyableP":{"identifier":"doc:\/\/typhoon.Typhoon\/s8CopyableP","type":"unresolvable","title":"Swift.Copyable"},"doc://typhoon.Typhoon/documentation/Typhoon/RetryPolicyStrategy":{"abstract":[{"text":"A strategy used to define different retry policies.","type":"text"}],"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"RetryPolicyStrategy"}],"url":"\/documentation\/typhoon\/retrypolicystrategy","type":"topic","title":"RetryPolicyStrategy","kind":"symbol","role":"symbol","identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyStrategy","navigatorTitle":[{"kind":"identifier","text":"RetryPolicyStrategy"}]},"doc://typhoon.Typhoon/documentation/Typhoon/RetryPolicyService/IRetryPolicyService-Implementations":{"title":"IRetryPolicyService Implementations","abstract":[],"role":"collectionGroup","identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyService\/IRetryPolicyService-Implementations","type":"topic","url":"\/documentation\/typhoon\/retrypolicyservice\/iretrypolicyservice-implementations","kind":"article"},"doc://typhoon.Typhoon/s8SendableP":{"identifier":"doc:\/\/typhoon.Typhoon\/s8SendableP","type":"unresolvable","title":"Swift.Sendable"},"doc://typhoon.Typhoon/documentation/Typhoon/RetryPolicyService":{"type":"topic","role":"symbol","abstract":[{"type":"codeVoice","code":"RetryPolicyService"},{"type":"text","text":" provides a high-level API for retrying asynchronous"},{"type":"text","text":" "},{"type":"text","text":"operations using configurable retry strategies."}],"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"RetryPolicyService"}],"identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyService","kind":"symbol","title":"RetryPolicyService","url":"\/documentation\/typhoon\/retrypolicyservice","navigatorTitle":[{"kind":"identifier","text":"RetryPolicyService"}]},"doc://typhoon.Typhoon/documentation/Typhoon/RetryPolicyService/init(strategy:)":{"abstract":[{"text":"Creates a new ","type":"text"},{"code":"RetryPolicyService","type":"codeVoice"},{"text":" instance.","type":"text"}],"role":"symbol","identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyService\/init(strategy:)","url":"\/documentation\/typhoon\/retrypolicyservice\/init(strategy:)","kind":"symbol","type":"topic","title":"init(strategy:)","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"strategy","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"RetryPolicyStrategy","preciseIdentifier":"s:7Typhoon19RetryPolicyStrategyO","kind":"typeIdentifier"},{"text":")","kind":"text"}]},"doc://typhoon.Typhoon/documentation/Typhoon":{"abstract":[],"url":"\/documentation\/typhoon","identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon","kind":"symbol","role":"collection","title":"Typhoon","type":"topic"},"doc://typhoon.Typhoon/documentation/Typhoon/IRetryPolicyService":{"title":"IRetryPolicyService","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"IRetryPolicyService"}],"identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/IRetryPolicyService","kind":"symbol","abstract":[{"type":"text","text":"A type that defines a service for retry policies"}],"navigatorTitle":[{"kind":"identifier","text":"IRetryPolicyService"}],"url":"\/documentation\/typhoon\/iretrypolicyservice","type":"topic","role":"symbol"},"doc://typhoon.Typhoon/s16SendableMetatypeP":{"identifier":"doc:\/\/typhoon.Typhoon\/s16SendableMetatypeP","type":"unresolvable","title":"Swift.SendableMetatype"}}}