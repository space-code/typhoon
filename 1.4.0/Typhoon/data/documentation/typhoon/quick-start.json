{"primaryContentSections":[{"kind":"content","content":[{"level":2,"anchor":"Overview","type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Typhoon is a powerful retry policy framework for Swift that helps you handle transient failures gracefully. This guide will help you integrate Typhoon into your project and start using retry policies immediately."}]},{"level":2,"anchor":"Basic-Usage","type":"heading","text":"Basic Usage"},{"level":3,"anchor":"Your-First-Retry","type":"heading","text":"Your First Retry"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Import Typhoon and create a retry service with a simple constant strategy:"}]},{"syntax":"swift","type":"codeListing","code":["import Typhoon","","let retryService = RetryPolicyService(","    strategy: .constant(retry: 3, duration: .seconds(1))",")","","do {","    let result = try await retryService.retry {","        try await fetchDataFromAPI()","    }","    print(\"Success: \\(result)\")","} catch {","    print(\"Failed after 3 retries: \\(error)\")","}"]},{"type":"paragraph","inlineContent":[{"text":"This will:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Try your operation immediately","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"If it fails, wait 1 second and retry","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Repeat up to 3 times","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":3,"anchor":"Network-Request-Example","type":"heading","text":"Network Request Example"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here’s a practical example with URLSession:"}]},{"syntax":"swift","type":"codeListing","code":["import Foundation","import Typhoon","","func fetchUser(id: String) async throws -> User {","    let retryService = RetryPolicyService(","        strategy: .exponential(retry: 3, duration: .milliseconds(500))","    )","    ","    return try await retryService.retry {","        let url = URL(string: \"https:\/\/api.example.com\/users\/\\(id)\")!","        let (data, response) = try await URLSession.shared.data(from: url)","        ","        guard let httpResponse = response as? HTTPURLResponse,","              httpResponse.statusCode == 200 else {","            throw NetworkError.invalidResponse","        }","        ","        return try JSONDecoder().decode(User.self, from: data)","    }","}"]},{"level":2,"anchor":"Choosing-a-Strategy","type":"heading","text":"Choosing a Strategy"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Typhoon provides three retry strategies:"}]},{"level":3,"anchor":"Constant-Strategy","type":"heading","text":"Constant Strategy"},{"type":"paragraph","inlineContent":[{"text":"Best for predictable, fixed delays:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Retry 5 times with 2 seconds between attempts",".constant(retry: 5, duration: .seconds(2))"]},{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Timeline:"}],"type":"strong"},{"text":" 0s (initial) → 2s → 2s → 2s → 2s → 2s","type":"text"}]},{"level":3,"anchor":"Exponential-Strategy","type":"heading","text":"Exponential Strategy"},{"type":"paragraph","inlineContent":[{"text":"Ideal for backing off from failing services:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Retry 4 times with exponentially increasing delays",".exponential(retry: 4, multiplier: 2.0, duration: .seconds(1))"]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Timeline:"}]},{"text":" 0s (initial) → 1s → 2s → 4s → 8s","type":"text"}]},{"level":3,"anchor":"Exponential-with-Jitter","type":"heading","text":"Exponential with Jitter"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Best for preventing thundering herd problems:"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Retry with exponential backoff, jitter, and cap",".exponentialWithJitter(","    retry: 5,","    jitterFactor: 0.2,","    maxInterval: .seconds(30),","    multiplier: 2.0,","    duration: .seconds(1)",")"]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Timeline:"}]},{"type":"text","text":" 0s (initial) → ~1s → ~2s → ~4s → ~8s → ~16s (with randomization)"}]},{"level":2,"anchor":"Common-Patterns","type":"heading","text":"Common Patterns"},{"level":3,"anchor":"Wrapping-in-a-Service-Class","type":"heading","text":"Wrapping in a Service Class"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a reusable service with built-in retry logic:"}]},{"syntax":"swift","type":"codeListing","code":["import Typhoon","","class APIClient {","    private let retryService = RetryPolicyService(","        strategy: .exponential(retry: 3, duration: .milliseconds(500))","    )","    ","    func get<T: Decodable>(endpoint: String) async throws -> T {","        try await retryService.retry {","            let url = URL(string: \"https:\/\/api.example.com\/\\(endpoint)\")!","            let (data, _) = try await URLSession.shared.data(from: url)","            return try JSONDecoder().decode(T.self, from: data)","        }","    }","}","","\/\/ Usage","let client = APIClient()","let user: User = try await client.get(endpoint: \"users\/123\")"]},{"level":3,"anchor":"Error-Handling","type":"heading","text":"Error Handling"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Handle specific errors after all retries are exhausted:"}]},{"syntax":"swift","type":"codeListing","code":["do {","    let data = try await retryService.retry {","        try await performOperation()","    }","    \/\/ Handle success","} catch NetworkError.serverUnavailable {","    print(\"Server is down\")","} catch NetworkError.timeout {","    print(\"Request timed out\")","} catch {","    print(\"Unexpected error: \\(error)\")","}"]},{"level":3,"anchor":"Configuration-for-Different-Scenarios","type":"heading","text":"Configuration for Different Scenarios"},{"syntax":"swift","type":"codeListing","code":["\/\/ Quick operations (file I\/O, cache access)","let quickRetry = RetryPolicyService(","    strategy: .constant(retry: 3, duration: .milliseconds(100))",")","","\/\/ Network requests","let networkRetry = RetryPolicyService(","    strategy: .exponential(retry: 4, multiplier: 1.5, duration: .seconds(1))",")","","\/\/ Critical operations (payments, data persistence)","let criticalRetry = RetryPolicyService(","    strategy: .exponentialWithJitter(","        retry: 5,","        jitterFactor: 0.15,","        maxInterval: .seconds(60),","        multiplier: 2.0,","        duration: .seconds(2)","    )",")"]},{"level":2,"anchor":"Next-Steps","type":"heading","text":"Next Steps"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Now that you have the basics, explore:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/advanced-retry-strategies","type":"reference"},{"text":" - Deep dive into retry strategies","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/best-practices","type":"reference","isActive":true},{"type":"text","text":" - Learn best practices and patterns"}]}]}],"type":"unorderedList"}]}],"kind":"article","hierarchy":{"paths":[["doc:\/\/typhoon.Typhoon\/documentation\/Typhoon"]]},"schemaVersion":{"major":0,"patch":0,"minor":3},"metadata":{"roleHeading":"Article","title":"Quick Start","modules":[{"name":"Typhoon"}],"role":"article"},"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/quick-start"},"abstract":[{"type":"text","text":"Get up and running with Typhoon in minutes."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/typhoon\/quick-start"]}],"seeAlsoSections":[{"anchor":"Related-Documentation","title":"Related Documentation","identifiers":["doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyService","doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyStrategy"]},{"anchor":"Articles","title":"Articles","generated":true,"identifiers":["doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/installation","doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/advanced-retry-strategies","doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/best-practices"]}],"references":{"doc://typhoon.Typhoon/documentation/Typhoon/best-practices":{"url":"\/documentation\/typhoon\/best-practices","abstract":[{"type":"text","text":"Learn the recommended patterns and practices for using Typhoon effectively."}],"role":"article","kind":"article","type":"topic","identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/best-practices","title":"Best Practices"},"doc://typhoon.Typhoon/documentation/Typhoon":{"abstract":[],"url":"\/documentation\/typhoon","identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon","kind":"symbol","role":"collection","title":"Typhoon","type":"topic"},"doc://typhoon.Typhoon/documentation/Typhoon/RetryPolicyStrategy":{"abstract":[{"text":"A strategy used to define different retry policies.","type":"text"}],"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"RetryPolicyStrategy"}],"url":"\/documentation\/typhoon\/retrypolicystrategy","type":"topic","title":"RetryPolicyStrategy","kind":"symbol","role":"symbol","identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyStrategy","navigatorTitle":[{"kind":"identifier","text":"RetryPolicyStrategy"}]},"doc://typhoon.Typhoon/documentation/Typhoon/advanced-retry-strategies":{"abstract":[{"type":"text","text":"Master advanced retry patterns and optimization techniques."}],"identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/advanced-retry-strategies","role":"article","title":"Advanced Retry Strategies","type":"topic","kind":"article","url":"\/documentation\/typhoon\/advanced-retry-strategies"},"doc://typhoon.Typhoon/documentation/Typhoon/installation":{"title":"Installation","type":"topic","abstract":[{"type":"text","text":"A guide to installing the Typhoon package into your Swift project using Swift Package Manager."}],"url":"\/documentation\/typhoon\/installation","role":"article","kind":"article","identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/installation"},"doc://typhoon.Typhoon/documentation/Typhoon/RetryPolicyService":{"type":"topic","role":"symbol","abstract":[{"type":"codeVoice","code":"RetryPolicyService"},{"type":"text","text":" provides a high-level API for retrying asynchronous"},{"type":"text","text":" "},{"type":"text","text":"operations using configurable retry strategies."}],"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"RetryPolicyService"}],"identifier":"doc:\/\/typhoon.Typhoon\/documentation\/Typhoon\/RetryPolicyService","kind":"symbol","title":"RetryPolicyService","url":"\/documentation\/typhoon\/retrypolicyservice","navigatorTitle":[{"kind":"identifier","text":"RetryPolicyService"}]}}}